
今天我们将开始实践金仓数据库的数据迁移功能。在此之前，我们一直使用的是简化版的 Docker 镜像，这个版本并没有集成可视化操作工具。因此，为了更方便地进行后续的操作，我们需要额外下载一个 Windows 版本的安装包并进行安装。


需要注意的是，如果你不打算安装数据库，安装过程中可以选择不安装相关组件。至于具体的安装步骤，我们将不再演示，因为安装过程非常直观并且与其他常见软件的安装过程类似。


# 安装


下载完成后，只需双击安装包，按照提示进行安装即可。如图所示，点击安装包后便可开始安装过程。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213053368-1200165048.png)


在本次操作中，我们主要使用的是金仓数据库提供的 KDTS 可视化工具。我们只需找到 KDTS 工具所在的文件夹，并直接双击运行其中的 .bat 启动文件即可。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213058562-1105514000.png)


这里我踩了一个坑，遇到了双击启动时一直报错，提示“找不到文件路径”。起初我以为是中文路径导致的问题，然而仔细检查后发现根本没有中文路径。唯一让我感到疑惑的是，有一个文件夹名称末尾多了一个空格。


于是，我决定尝试将程序重新安装到一个路径中没有空格的目录下，结果竟然顺利运行了。看来问题的根源真的是那个文件夹名称中的空格。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213104750-1339230041.png)


紧接着，我们按照正常流程启动了批处理（.bat）文件，结果程序顺利启动并成功运行，没有出现任何错误提示。具体运行状态如图所示。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213109363-658365849.png)


默认情况下，程序并不会自动打开浏览器，而是会在控制台窗口中显示一条服务启动成功的提示信息。此时，用户只需要关闭这个提示窗口即可继续操作。关闭窗口后，我们可以直接在浏览器中访问默认的地址来查看程序的运行状态，访问地址为：[http://localhost:54523/](https://github.com)


此外，网页的默认登录用户名和密码分别是：`kingbase` / `kingbase`，你可以使用这些凭据进行登录。


# 迁移UI


在输入正确的用户名和密码后，我们成功登录并进入了系统界面。接下来我们操作一下。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213115429-1780898051.png)


首先，为了开始迁移操作，我们需要创建一个数据源，也就是指定我们要迁移的数据库。在此，我将演示如何进行MySQL 8版本的配置。非常重要的一点是，在选择数据源类型时必须确保选择正确的数据库类型——在本例中为MySQL 8版本。


如果选择了错误的数据库版本或类型，系统可能会出现不可预见的异常。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213122909-1880078294.png)


切记，在进行数据迁移操作时，不要在“迁移数据管理”中直接新建数据源信息。这是因为一旦你在该界面中新建数据源后，系统需要刷新页面才能使新增的数据源信息生效。


如果你不希望频繁刷新页面并浪费时间，那么建议在开始配置之前，就先提前完成数据源信息的配置工作。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213130568-1320864176.png)


接下来，我们可以继续正常配置 KES 的链接信息。在配置过程中，请特别注意不要选择错误的 KES 兼容模式，否则可能会导致配置失败。具体效果请参见下图。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213135740-807634564.png)


接下来，我们直接点击我们所选择的数据库信息，默认会全都迁移，如果你不想迁移一些信息，可以选择去掉勾选。如图所示：


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213146564-976044218.png)


紧接着，点击保存且迁移按钮后，等待任务启动，不要点击多次，他这里会有一些慢。然后，我们就可以去看下任务的迁移进度了，因为我这里是一个表，所以迁移的很快。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213152718-30086027.png)


如果你的任务很大很多，这里也有任务执行批次可以让你查看，你可以选择慢慢迁移，如果有任何错误这里也有部分迁移日志可以查看。


![image](https://img2024.cnblogs.com/blog/1423484/202412/1423484-20241204213157018-1725531584.png)


至此，我们的MySQL数据库就正常迁移到了KES金仓数据库了。


# 总结


通过本次操作，我们成功地将MySQL数据库迁移到KES金仓数据库，并顺利完成了相关的配置和数据迁移。过程中，我们遇到了一些小问题，例如文件路径中的空格，但通过调整安装路径，问题得以解决。值得注意的是，配置数据源时需小心选择正确的数据库类型与兼容模式，避免不必要的错误。总的来说，金仓数据库的数据迁移功能使用简便，但需要仔细操作和检查细节，才能确保顺利完成迁移任务。




---


我是努力的小雨，一名 Java 服务端码农，潜心研究着 AI 技术的奥秘。我热爱技术交流与分享，对开源社区充满热情。同时也是一位腾讯云创作之星、阿里云专家博主、华为云云享专家、掘金优秀作者。


💡 我将不吝分享我在技术道路上的个人探索与经验，希望能为你的学习与成长带来一些启发与帮助。


🌟 欢迎关注努力的小雨！🌟


 本博客参考[豆荚加速器](https://yirou.org)。转载请注明出处！
